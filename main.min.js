(()=>{"use strict";var e,t={5781:(e,t,n)=>{n(853),n(6208),n(5281),n(5862),n(5550),n(3214),n(9275),n(2321),n(8821),n(4994),n(2900),n(6543),n(3142),n(6364),n(6632),n(174),n(44),n(9701),n(238),n(2938),n(4845),n(5007),n(1928),n(4883),n(8995);var o=n(6075),a=n(8012),i=n(636);var r=n(9352),s=n(5435),c=n(5256);n(4750);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===l(i)?i:String(i)),o)}var a,i}function u(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var m=u((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=t.textureLoader2.load(t.imageSrc);a.rotation=Math.PI/2,a.center=new o.FM8(.5,.5),a.repeat.x=-1,(new i.E).load("/models/cha.glb",(function(e){var i=new o.vBJ({map:a,side:o.ehD,transparent:!0});n.x=t.x,n.y=t.y,n.z=t.z,n.scale=t.scale,n.mesh=e.scene.children[0],n.mesh.children[0].material=i,n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale),t.scene.add(n.mesh),n.mesh.animation=e.animations,n.mixer=new o.Xcj(n.mesh),n.actions=[],n.actions[0]=n.mixer.clipAction(n.mesh.animation[0]),n.actions[2]=n.mixer.clipAction(n.mesh.animation[2]),n.actions[1]=n.mixer.clipAction(n.mesh.animation[1]),n.actions[3]=n.mixer.clipAction(n.mesh.animation[3]),n.actions[2].play(),n.actions[2].loop=o.jAl,n.actions[0].play(),n.mesh.children[0].dragging=!1,n.mesh.children[0].isDraggable=!0,n.mesh.children[0].subject="plane",n.mesh.children[0].planeId=t.id}))}));function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==p(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===p(i)?i:String(i)),o)}var a,i}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var v=h((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(new i.E).load(t.modelSrc,(function(e){n.modelSrc=t.modelSrc,n.x=t.x,n.y=t.y,n.z=t.z,n.scale=t.scale,n.mesh=e.scene.children[0],n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale),n.rotationratio=t.rotation*Math.PI/2,n.mesh.rotation.set(0,n.rotationratio,0),t.scene.add(n.mesh),n.mesh.animation=e.animations,n.mixer=new o.Xcj(n.mesh),n.actions=[],n.actions[0]=n.mixer.clipAction(n.mesh.animation[0]),n.actions[2]=n.mixer.clipAction(n.mesh.animation[2]),n.actions[1]=n.mixer.clipAction(n.mesh.animation[1]),n.actions[3]=n.mixer.clipAction(n.mesh.animation[3]),n.actions[2].play(),n.actions[2].loop=o.jAl,n.mesh.castShadow=!0,n.mesh.children[0].dragging=!1,n.mesh.children[0].isDraggable=!0,n.mesh.children[0].subject="house"}))}));function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==y(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===y(i)?i:String(i)),o)}var a,i}function w(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var b=w((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=t.textureLoader2.load(t.imageSrc);a.rotation=Math.PI/2,a.center=new o.FM8(.5,.5),a.repeat.x=-1,(new i.E).load("/models/cha.glb",(function(e){var i=new o.vBJ({map:a,side:o.ehD,transparent:!0});n.x=t.x,n.y=t.y,n.z=t.z,n.scale=t.scale,n.mesh=e.scene.children[0],n.mesh.children[0].material=i,n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale),t.scene.add(n.mesh),n.mesh.animation=e.animations,n.mixer=new o.Xcj(n.mesh),n.actions=[],n.actions[0]=n.mixer.clipAction(n.mesh.animation[0]),n.actions[2]=n.mixer.clipAction(n.mesh.animation[2]),n.actions[1]=n.mixer.clipAction(n.mesh.animation[1]),n.actions[3]=n.mixer.clipAction(n.mesh.animation[3]),n.actions[4]=n.mixer.clipAction(n.mesh.animation[4]),n.actions[4].play(),n.actions[4].loop=o.jAl,n.mesh.children[0].dragging=!1,n.mesh.children[0].isDraggable=!0,n.mesh.children[0].subject="object"}))})),S=n(1891),x=n.n(S);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==L(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===L(i)?i:String(i)),o)}var a,i}function E(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var j=E((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new o.b_z(.3,.6,6,1),a=new o.Wid({color:"#69B943"}),i=new o.fHI(.1,.1,1,6),r=new o.Wid({color:"#B5A788"});this.scale=t.scale,this.x=t.x,this.y=t.y,this.z=t.z,this.mesh=new o.Kj0(n,a),this.mesh2=new o.Kj0(n,a),this.mesh3=new o.Kj0(n,a),this.cylinder=new o.Kj0(i,r),this.mesh.position.set(0,this.y,0),this.mesh2.position.set(0,this.y-.2,0),this.mesh3.position.set(0,this.y-.6,0),this.cylinder.position.set(0,this.y-1.2,0),this.mesh.scale.set(.8,.8,.8),this.mesh2.scale.set(1.2,1.2,1.2),this.mesh3.scale.set(1.8,1.8,1.8),this.mesh.castShadow=!0,this.mesh2.castShadow=!0,this.mesh3.castShadow=!0,this.cylinder.castShadow=!0;var s=new o.ZAu;s.add(this.mesh),s.add(this.mesh2),s.add(this.mesh3),s.add(this.cylinder),s.scale.set(this.scale,this.scale,this.scale),s.position.set(this.x,0,this.z),t.scene.add(s)}));function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==z(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===z(i)?i:String(i)),o)}var a,i}function P(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _=P((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.z=t.z,this.scale=t.scale,t.gltfLoader.load(t.modelSrc,(function(e){n.mesh=e.scene.children[0],n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale),t.scene.add(n.mesh),n.mesh.castShadow=!0}))}));function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==M(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===M(i)?i:String(i)),o)}var a,i}function O(e,t,n){return t&&q(e.prototype,t),n&&q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var B=O((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.scene,a=t.gltfLoader;n.background=new o.Ilk("#B8F8FB");n.fog=new o.ybr("#B8F8FB",25,30);var i=new o.Mig("white",.68);n.add(i);var r=new o.Ox3("white",.48);r.castShadow=!0,r.position.x=.4,r.position.y=2,r.position.z=.2,n.add(r);var s=(new o.dpR).load("/images/grass.png");s.wrapS=o.rpg,s.wrapT=o.rpg,s.repeat.x=10,s.repeat.y=10;var c=new o.Kj0(new o._12(100,100),new o.Wid({map:s}));c.name="floor",c.rotation.x=-Math.PI/2,c.receiveShadow=!0,n.add(c),[].push(c);new j({scene:n,x:-4.3,y:1.6,z:-3,scale:.8}),new j({scene:n,x:-4,y:1.6,z:-2,scale:1}),new j({scene:n,x:-3,y:1.6,z:4,scale:1}),new j({scene:n,x:-.2,y:1.6,z:4,scale:.8}),new j({scene:n,x:-1,y:1.6,z:-2.4,scale:.85}),new j({scene:n,x:-4,y:1.6,z:.5,scale:.85}),new j({scene:n,x:-4.3,y:1.6,z:1.5,scale:.85}),new j({scene:n,x:-4,y:1.6,z:2.5,scale:1.2}),new _({gltfLoader:a,scene:n,x:-2,y:.2,z:4.3,scale:.5,modelSrc:"/models/stone.glb"}),new _({gltfLoader:a,scene:n,x:-2,y:.2,z:-4.3,scale:.9,modelSrc:"/models/stone.glb"}),new _({gltfLoader:a,scene:n,x:-.5,y:.2,z:-4.3,scale:.4,modelSrc:"/models/stone.glb"}),new _({gltfLoader:a,scene:n,x:-7.5,y:.2,z:1.6,scale:1.4,modelSrc:"/models/stone.glb"})}));function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==A(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===A(i)?i:String(i)),o)}var a,i}function C(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var F=C((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.scene,a=t.gltfLoader;n.background=new o.Ilk("#91e7ff");n.fog=new o.ybr("#91e7ff",4,20);var i=new o.Mig("white",.4);n.add(i);var r=new o.Ox3("#fff7db",.48);r.castShadow=!0,r.position.x=.4,r.position.y=2,r.position.z=.2,n.add(r);var s=(new o.dpR).load("/images/sand.jpg");s.wrapS=o.rpg,s.wrapT=o.rpg,s.repeat.x=80,s.repeat.y=80;var c=new o.Kj0(new o._12(100,100),new o.Wid({map:s}));c.name="floor",c.rotation.x=-Math.PI/2,c.receiveShadow=!0,n.add(c),[].push(c);new _({gltfLoader:a,scene:n,x:-2,y:.2,z:-4.3,scale:.9,modelSrc:"/models/stone_sea.glb"}),new _({gltfLoader:a,scene:n,x:-.5,y:.2,z:-4.3,scale:.8,modelSrc:"/models/coral.glb"}),new _({gltfLoader:a,scene:n,x:-.5,y:.1,z:-3.8,scale:.5,modelSrc:"/models/coral.glb"}),new _({gltfLoader:a,scene:n,x:-5,y:-.1,z:3,scale:1.5,modelSrc:"/models/coral2.glb"}),new _({gltfLoader:a,scene:n,x:0,y:-.1,z:5,scale:.7,modelSrc:"/models/coral3.glb"}),new _({gltfLoader:a,scene:n,x:-7.5,y:.2,z:1.6,scale:.8,modelSrc:"/models/stone_sea2.glb"}),new _({gltfLoader:a,scene:n,x:-7.3,y:.2,z:4.1,scale:1.3,modelSrc:"/models/stone_sea.glb"}),new _({gltfLoader:a,scene:n,x:-1,y:.2,z:6.5,scale:.8,modelSrc:"/models/stone_sea.glb"}),new _({gltfLoader:a,scene:n,x:0,y:-1.2,z:4.3,scale:.8,modelSrc:"/models/stone_sea.glb"}),new _({gltfLoader:a,scene:n,x:-3,y:-1.2,z:-3,scale:.8,modelSrc:"/models/stone_sea.glb"})}));function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==N(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===N(i)?i:String(i)),o)}var a,i}function W(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var H=W((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.scene,a=t.gltfLoader;n.background=new o.Ilk("#142150");n.fog=new o.ybr("#142150",25,30);var i=new o.Mig("#7285C8",.68);n.add(i);var r=new o.Ox3("#7285C8",.48);r.castShadow=!0,r.position.x=.4,r.position.y=2,r.position.z=.2,n.add(r);var s=(new o.dpR).load("/images/grass.png");s.wrapS=o.rpg,s.wrapT=o.rpg,s.repeat.x=10,s.repeat.y=10;var c=new o.Kj0(new o._12(100,100),new o.Wid({map:s}));c.name="floor",c.rotation.x=-Math.PI/2,c.receiveShadow=!0,n.add(c),[].push(c);new j({scene:n,x:-4.3,y:1.6,z:-3,scale:.8}),new j({scene:n,x:-4,y:1.6,z:-2,scale:1}),new j({scene:n,x:-3,y:1.6,z:4,scale:1}),new j({scene:n,x:-.2,y:1.6,z:4,scale:.8}),new j({scene:n,x:-1,y:1.6,z:-2.4,scale:.85}),new j({scene:n,x:-4,y:1.6,z:.5,scale:.85}),new j({scene:n,x:-4.3,y:1.6,z:1.5,scale:.85}),new j({scene:n,x:-4,y:1.6,z:2.5,scale:1.2}),new _({gltfLoader:a,scene:n,x:-2,y:.2,z:4.3,scale:.5,modelSrc:"/models/stone.glb"}),new _({gltfLoader:a,scene:n,x:-2,y:.2,z:-4.3,scale:.9,modelSrc:"/models/stone.glb"}),new _({gltfLoader:a,scene:n,x:-.5,y:.2,z:-4.3,scale:.4,modelSrc:"/models/stone.glb"}),new _({gltfLoader:a,scene:n,x:-7.5,y:.2,z:1.6,scale:1.4,modelSrc:"/models/stone.glb"})}));function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==X(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===X(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){var e=[],t=null,n=document.querySelector(".showBook"),l=firebase.firestore();l.collection("storys").get().then((function(o){if(o.forEach((function(t){e.push(t.data())})),t=Math.floor(e.length/5+1),0==e.length){var a=document.createElement("div");a.className="nonData",a.innerHTML="동화책이 아직 없어요!",n.append(a)}else{for(var i=0;i<t;i++){var r=document.createElement("div");r.className="showBooks",n.append(r);var s=document.createElement("div");s.className="cards",r.append(s)}e.sort((function(e,t){return t.totalData.time-e.totalData.time}));for(var c=0;c<e.length;c++){var l=Math.floor(c/5),u='<div class="card" data-id='.concat(e[c].totalData.id,'>\n               <img class="thum" data-id=').concat(e[c].totalData.id,' src="').concat(e[c].totalData.thum,'" alt="" draggable="false">\n               <div class="title" data-id=').concat(e[c].totalData.id,">").concat(e[c].totalData.title,'</div>\n               <div class="time" data-id=').concat(e[c].totalData.id,'>12초</div>\n               <img class="trash" data-id=').concat(e[c].totalData.id,'src="./images/UI/trash.png" alt="">\n            </div>');n.children[l].children[0].innerHTML+=u}}function p(t){var n=0;t.addEventListener("mousedown",(function(e){n=e.clientX})),t.addEventListener("mouseup",(function(t){var o=t.clientX-n;Math.abs(o)<10&&(t.stopPropagation(),function(t){for(var n=0;n<e.length;n++)t==e[n].totalData.id&&(d=e[n]);(function(e){for(var t in e.totalData.positionData){var n=new m({textureLoader2:We,scene:N,imageSrc:e.totalData.positionData[t].img,x:e.totalData.positionData[t].phase[0][0].x,y:e.totalData.positionData[t].phase[0][0].y,z:e.totalData.positionData[t].phase[0][0].z,scale:.5,record:J});He.push(n)}for(var o in e.totalData.background.houses){var a=new v({textureLoader2:We,scene:N,x:e.totalData.background.houses[o].position.x,y:e.totalData.background.houses[o].position.y,z:e.totalData.background.houses[o].position.z,rotation:1,scale:.5,record:J,modelSrc:e.totalData.background.houses[o].model});Ye.push(a)}for(var i in e.totalData.background.objects){var r=new b({textureLoader2:We,scene:N,imageSrc:e.totalData.background.objects[i].img,x:e.totalData.background.objects[i].position.x,y:e.totalData.background.objects[i].position.y,z:e.totalData.background.objects[i].position.z,scale:.5,record:J});Xe.push(r)}})(d),function(e){De(e.totalData.scene),ke="into",je()}(d),Ee=!0,je(ke="intomap")}(t.target.dataset.id))}))}document.querySelectorAll(".card").forEach((function(e){p(e),e.querySelectorAll(".thum, .title, .time, .trash").forEach((function(e){p(e)}))}));for(var f=document.querySelectorAll(".showBooks"),h=document.querySelector(".showBook_info"),y=0,g=!1,w=0,S=t=Math.floor(e.length/5+1),x=0;x<S;x++){var L=document.createElement("div");L.className="showBook_block",h.append(L)}var k=document.querySelectorAll(".showBook_block");if(k[0].className="showBook_block showBook_block_seleted",0!==f.length)for(var E=function(e){f[e].addEventListener("mousedown",(function(e){y=e.clientX,g=!0})),f[e].addEventListener("mousemove",(function(e){1==g&&(n.style.transform="translateX(".concat(100*-w,"vw) translateX(").concat(e.clientX-y,"px)"))})),f[e].addEventListener("mouseup",(function(t){g=!1;var o=t.clientX-y;o<-500?w=(w+1)%S:o>500&&(w=(w-1+S)%S),n.style.transition="all 0.5s",n.style.transform="translateX(".concat(100*-w,"vw)"),setTimeout((function(){n.style.transition="none"}),500),k[e].classList.remove("showBook_block_seleted"),k[w].classList.add("showBook_block_seleted")}))},j=0;j<S;j++)E(j)}));var d=null,u=new r.M;u.setSize(window.innerWidth,window.innerHeight),u.domElement.style.position="absolute",u.domElement.style.top="0px",u.domElement.style.pointerEvents="none",document.body.appendChild(u.domElement);var p=document.querySelector("#three-canvas"),f=new o.CP7({canvas:p,antialias:!0,preserveDrawingBuffer:!0});f.setSize(window.innerWidth,window.innerHeight),f.setPixelRatio(window.devicePixelRatio>1?2:1),f.shadowMap.enabled=!0,f.shadowMap.type=o._iA;var h=new o.xsS;h.background=new o.Ilk("#EBE5D9");var y=new o.cPb(68,window.innerWidth/window.innerHeight,.3,1e3);y.position.x=-2,y.position.y=4.8,y.position.z=6,y.lookAt(1,-10,-1),h.add(y);var g=new o.Mig("#F8F4EC",1.25);h.add(g);var w=new o.Ox3("white",.1);w.position.x=.3,w.position.y=4,w.position.z=-2.3,w.shadow.mapSize.width=5120,w.shadow.mapSize.height=5120,w.shadow.camera.top=-10,w.shadow.camera.bottom=10,w.shadow.camera.right=10,w.shadow.camera.left=-10,w.castShadow=!0,h.add(w);var S=new i.E;S.load("./models/kidapp.glb",(function(e){var t=e.scene;h.add(t);for(var n=1;n<t.children.length;n++)t.children[n].castShadow=!0}),void 0,(function(e){}));var L=new o._12(700,700),k=new o.Wid({color:"#EBE5D9"});k.metalness=.45,k.roughness=.65;var E=new o.Kj0(L,k);E.receiveShadow=!0,h.add(E),E.rotation.x=-Math.PI/2;var j=new o.DvJ(1,1,1),z=new o.vBJ({color:16776960}),D=new o.Kj0(j,z);function P(e,t,n){var a=new o.DvJ(4,4,4),i=new o.vBJ({color:16776960,opacity:.1,visible:!1}),r=new o.Kj0(a,i);return e.add(r),r.position.copy(t),r.rotation.y=n,r.material.transparent=!0,r}h.add(D),D.position.set(1,-10,-1);var _=[],M=P(h,new o.Pa4(7.5,1.5,-4.6),-Math.PI/3.2);_.push(M);var q=P(h,new o.Pa4(10,1.5,.6),Math.PI/2);_.push(q);var O=P(h,new o.Pa4(10.2,1.5,6.6),Math.PI/4);_.push(O);var A=document.querySelector(".introStart"),I=document.querySelector(".introLookSave");A.addEventListener("click",(function(){je(ke="selectMap"),ze({x:2,y:5,z:3},{x:12,y:-3,z:0})})),I.addEventListener("click",(function(){je(ke="selectStory"),ze({x:-.6,y:5,z:-4.9},{x:-.6,y:0,z:-14})}));var C=null,N=new o.xsS;function T(e,t,n){return 0==n?(C=0,new B({scene:e,gltfLoader:t})):1==n?(C=1,new F({scene:e,gltfLoader:t})):2==n?(C=2,new H({scene:e,gltfLoader:t})):void 0}var W=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);W.position.x=4,W.position.y=1,W.position.z=0,N.add(W);var X=new o.iMs,R=new o.iMs,Y=new o.SUY,J=!1,$=document.querySelector(".moveStart"),G=document.querySelector(".playNext"),V=document.querySelector(".playPrev"),Q=document.querySelector(".playRap"),ee=document.querySelector(".recordRap"),te=document.querySelector(".recordNext"),ne=document.querySelector(".recordPrev"),oe=document.querySelector(".drawButton"),ae=document.querySelector(".drawButton_emotion"),ie=document.querySelector(".tutorial"),re=document.querySelector(".with"),se=document.querySelector(".playWith"),ce=document.querySelector(".code"),le=document.querySelector(".controlButton");re.addEventListener("click",(function(){se.classList.remove("displayNone"),de.classList.remove("displayNone")})),se.addEventListener("click",(function(){se.classList.add("displayNone"),ce.classList.remove("displayNone")}));var de=document.querySelector(".namemake"),ue=document.querySelectorAll(".dot");V.addEventListener("click",(function(e){}));var me=0;function pe(){if(Ze<=5){ue.forEach((function(e){e.innerHTML=""}));for(var e=0;e<Ze;e++)ue[e].innerHTML="<div></div>"}5==Ze?(te.classList.add("animation-shake"),te.classList.add("recordDone")):(te.classList.remove("animation-shake"),te.classList.remove("recordDone"))}G.addEventListener("click",(function(e){!function(){for(var e=0;e<He.length;e++)he(e,He[e].mesh.position.x,He[e].mesh.position.y+1.8,He[e].mesh.position.z)}();var t=[],n=[],o=function(){var e,o=parseInt(a,10);n[o]=[],t.push(s.ZP.timeline());for(var i=0;i<d.totalData.positionData[o].phase[me].length;i++)n[o].push(d.totalData.positionData[o].phase[me][i]);for(var r=0;r<n[o].length;r++)t[o].to(He[o].mesh.position,{duration:1.5,x:n[o][r].x,y:n[o][r].y,z:n[o][r].z});var c=He[o];c.actions[0].stop(),c.actions[3].play(),e=setInterval(st,100),t[o].play().then((function(){c.actions[3].stop(),c.actions[0].play(),clearInterval(e)}))};for(var a in d.totalData.positionData)o();for(var i=0;i<He.length;i++){var r=d.totalData.positionData[i].emotions[me];fe[i].handleEmotionClick(r)}me+=1})),te.addEventListener("click",(function(){if(++Ze<=4)for(var e=0;e<He.length;e++)nt.positionData[e].phase[Ze].splice(0);if(Ze<=4){!function(){for(var e=0;e<He.length;e++){var t=He[e].mesh.position;delete t._gsap;var n=U({},t);nt.positionData[e].phase[Ze].push(n)}it(!0)}();for(var t=0;t<at.length;t++){var n=at[t];N.remove(n)}for(var o=0;o<ot.length;o++){var a=ot[o];N.remove(a)}it(!0)}if(6==Ze&&(ie.classList.remove("displayNone"),de.classList.remove("displayNone"),function(){var e;try{var t="image/jpeg";e=f.domElement.toDataURL(t)}catch(e){return}document.getElementById("canvasImage").style.backgroundImage="url(".concat(e,")")}()),pe(),Ze<=4)for(var i=0;i<He.length;i++)fe[i].handleEmotionClick("none",!1)})),ne.addEventListener("click",(function(){--Ze<0&&(Ze=0);for(var e=[],t=0;t<He.length;t++)e.push(s.ZP.timeline()),e[t].to(He[t].mesh.position,{duration:.5,x:nt.positionData[t].phase[Ze][0].x,y:nt.positionData[t].phase[Ze][0].y,z:nt.positionData[t].phase[Ze][0].z});for(var n=0;n<He.length;n++)nt.positionData[n].phase[Ze].splice(1);if(Ze<=4){for(var o=0;o<at.length;o++){var a=at[o];N.remove(a)}for(var i=0;i<ot.length;i++){var r=ot[i];N.remove(r)}}it(!1),pe()}));var fe=[];function he(e,t,n,o){var a=document.createElement("img"),i=document.createElement("img"),s=document.createElement("img"),c=document.createElement("img"),l=document.createElement("img"),d=document.createElement("img"),u=document.createElement("img");a.src="./images/emotion/emotion_smile.png",i.src="./images/emotion/emotion_angry.png",s.src="./images/emotion/emotion_sad.png",c.src="./images/emotion/emotion_shock.png",l.src="./images/emotion/emotion_just.png",d.src="./images/emotion/emotion_none.png",a.addEventListener("click",(function(){return w("smile")})),i.addEventListener("click",(function(){return w("angry")})),s.addEventListener("click",(function(){return w("sad")})),c.addEventListener("click",(function(){return w("shock")})),l.addEventListener("click",(function(){return w("just")})),d.addEventListener("click",(function(){return w("none")})),u.src="./images/emotion/emotion_none.png";var m=document.createElement("div"),p=document.createElement("div"),f=document.createElement("div");m.appendChild(f),m.appendChild(p),f.appendChild(a),f.appendChild(i),f.appendChild(s),f.appendChild(c),f.appendChild(l),f.appendChild(d),p.appendChild(u),m.className="emotion",f.className="emotion_inner",p.className=Ee?"emotion_inner_defult animation_emotion":"emotion_inner_defult";var h=new r.j(m);h.position.set(t,n,o),N.add(h),p.style.pointerEvents="auto",m.style.pointerEvents="auto";var v=document.querySelector(".editEmotion"),y="none",g="none";function w(e){g=e,Ee||(nt.positionData[b.id].emotions[Ze]=g);var t="./images/emotion/emotion_".concat(g,".png");u.src=t,"selectEmotion"==y&&ve(y="selected",m)}v.addEventListener("click",(function(){"edit"==y?y="none":"none"==y?y="edit":("selectEmotion"==y||"selected"==y)&&(y="none"),ve(y,m)})),p.addEventListener("click",(function(){ve(y="selectEmotion",m)}));var b={id:e,cImgLabel:h,emotion:g,handleEmotionClick:w};return fe.push(b),m}function ve(e,t){var n=document.querySelectorAll(".emotion_inner"),o=document.querySelectorAll(".emotion_inner_defult"),a=t.querySelector(".emotion_inner"),i=t.querySelector(".emotion_inner_defult");"edit"==e?(i.classList.add("animation_emotion"),a.classList.remove("animation_emotion")):"none"==e?(a.classList.remove("animation_emotion"),i.classList.remove("animation_emotion")):"selectEmotion"==e?(n.forEach((function(e){e.classList.remove("animation_emotion")})),o.forEach((function(e){e.classList.add("animation_emotion")})),a.classList.add("animation_emotion"),i.classList.remove("animation_emotion")):"selected"==e&&(a.classList.remove("animation_emotion"),i.classList.add("animation_emotion"))}$.addEventListener("click",(function(){!function(){for(var e=0;e<Ye.length;e++){var t=U({},Ye[e].mesh.position);nt.background.houses[e]={position:t,model:Ye[e].modelSrc}}for(var n=0;n<Xe.length;n++){var o=U({},Xe[n].mesh.position);nt.background.objects[n]={position:o,img:Xe[n].mesh.children[0].material.map.source.data.currentSrc}}}(),pe(),(J=!0)&&(oe.classList.add("drawButton_move"),ae.classList.remove("drawButton_move"),Ae.enabled=!1,s.ZP.timeline().to(W.position,{duration:1.8,x:4.5,y:4,z:0,onUpdate:function(){W.lookAt(new o.Pa4(0,0,0))}})),ee.classList.add("moveStart_move"),$.classList.remove("moveStart_move"),function(){for(var e=0;e<He.length;e++){nt.positionData[e]={id:e,phase:{0:[],1:[],2:[],3:[],4:[]},img:null,title:null,emotions:{0:null,1:null,2:null,3:null,4:null}};var t=U({},He[e].mesh.position);nt.positionData[e].phase[Ze].push(t)}it(!0)}();for(var e=0;e<He.length;e++)nt.positionData[e].img=He[e].mesh.children[0].material.map.source.data.currentSrc;for(var t=0;t<He.length;t++)he(t,He[t].mesh.position.x,He[t].mesh.position.y+1.8,He[t].mesh.position.z);for(var n=0;n<He.length;n++)fe[n].handleEmotionClick("none")}));var ye=document.querySelector(".intro"),ge=document.querySelector(".backButton"),we=document.querySelector(".interface"),be=document.querySelector(".showAll"),Se=document.querySelector(".carousel"),xe=h,Le=y,ke="intro",Ee=!1;function je(e){"selectMap"==e?(ye.classList.add("introDown"),ge.classList.add("introBackButton")):"intro"==e?(we.classList.remove("displayBlock"),we.classList.add("displayNone"),Se.classList.remove("carousel_move"),ye.classList.remove("introDown"),ge.classList.remove("introBackButton"),be.classList.remove("showAll_move")):"selectStory"==e?(ge.classList.add("introBackButton"),ye.classList.add("introDown"),be.classList.add("showAll_move")):"selectStory_detail"==e?(Se.classList.add("carousel_move"),be.classList.remove("showAll_move")):"intomap"==e&&(1==Ee?(Q.classList.add("moveStart_move"),we.classList.add("displayBlock"),we.classList.remove("displayNone"),oe.classList.add("displayNone"),oe.classList.remove("displayBlock"),le.classList.add("displayNone"),le.classList.remove("displayBlock")):(we.classList.add("displayBlock"),we.classList.remove("displayNone")),Se.classList.remove("carousel_move"),re.classList.add("displayNone"))}function ze(e,t){s.ZP.timeline().to(y.position,{duration:1.8,x:e.x,y:e.y,z:e.z,onUpdate:function(){y.lookAt(new o.Pa4(2,0,0))}}),s.ZP.timeline().to(D.position,{duration:1.8,x:t.x,y:t.y,z:t.z,onUpdate:function(){y.lookAt(D.position)}})}function De(e){0===e?(T(N,S,0),xe=N,Le=W,je(ke)):1===e?(T(N,S,1),xe=N,Le=W,je(ke)):2===e?(T(N,S,2),xe=N,Le=W,je(ke)):3===e&&(xe=h,Le=y,je(ke),N.clear())}be.addEventListener("click",(function(){je(ke="selectStory_detail")})),ge.addEventListener("click",(function(){"intomap"==ke?(De(3),ze({x:-2,y:4.8,z:6},{x:1,y:-10,z:-1}),je(ke="intro")):("selectMap"==ke||"selectStory"==ke||"selectStory_detail"==ke)&&(ze({x:-2,y:4.8,z:6},{x:1,y:-10,z:-1}),je(ke="intro")),ke="intro"}));var Pe=document.querySelector(".titleButton"),_e=document.querySelector(".namearea");Pe.addEventListener("click",(function(){var e,t,n=_e.value,o=document.getElementById("canvasImage"),a=window.getComputedStyle(o).getPropertyValue("background-image").slice(4,-1).replace(/["']/g,"");nt.thum=a,nt.title=n,nt.id=(e=1,t=1e3,Math.floor(Math.random()*(t-e+1)+e));var i=Date.now();nt.time=i,nt.scene=C,l.collection("storys").doc(n).set({totalData:nt}).then((function(){})).catch((function(e){}))})),window.addEventListener("resize",(function(){W.aspect=window.innerWidth/window.innerHeight,y.aspect=window.innerWidth/window.innerHeight,W.updateProjectionMatrix(),y.updateProjectionMatrix(),f.setSize(window.innerWidth,window.innerHeight),f.render(h,y),u.setSize(this.window.innerWidth,this.window.innerHeight)}));var Me,qe,Oe,Be,Ae=new a.z(W,f.domElement),Ie=document.querySelector("#p5-container"),Ce=document.querySelector("#p5-container2");Me="p5-container",qe=450,Oe=450,Be="#FFFFFF00",new(x())((function(e){var t=document.querySelector(".size"),n=document.querySelector(".color"),o=document.querySelector(".delete1"),a="black",i=12,r=[];e.setup=function(){e.noLoop(),e.createCanvas(qe,Oe),e.background(Be)},e.draw=function(){e.mouseIsPressed?(e.stroke(a),e.strokeWeight(i),r.push(e.mouseX,e.mouseY),r.length>2&&(e.line(r[0],r[1],r[2],r[3]),r.splice(0,2))):r.length&&(r=[]),e.mouseDragged=function(){},window.requestAnimationFrame(e.draw)},t.addEventListener("click",(function(e){e.target.dataset.size&&(i=e.target.dataset.size)})),n.addEventListener("click",(function(e){e.target.dataset.color&&(a=e.target.dataset.color)})),o.addEventListener("click",(function(t){e.clear()}))}),Me),function(e,t,n,o){new(x())((function(e){var a=document.querySelector(".size2"),i=document.querySelector(".color2"),r=document.querySelector(".delete2"),s="black",c=12,l=[];e.setup=function(){e.noLoop(),e.createCanvas(t,n),e.background(o)},e.draw=function(){e.mouseIsPressed?(e.stroke(s),e.strokeWeight(c),l.push(e.mouseX,e.mouseY),l.length>2&&(e.line(l[0],l[1],l[2],l[3]),l.splice(0,2))):l.length&&(l=[]),e.mouseDragged=function(){},window.requestAnimationFrame(e.draw)},a.addEventListener("click",(function(e){e.target.dataset.size&&(c=e.target.dataset.size)})),i.addEventListener("click",(function(e){e.target.dataset.color&&(s=e.target.dataset.color)})),r.addEventListener("click",(function(t){e.clear()}))}),e)}("p5-container2",450,450,"#FFFFFF00");var Fe,Ne=document.querySelector(".sendButton"),Te=document.querySelector(".sendButton2"),We=new o.dpR,He=[],Xe=[],Ke=new o.FM8;function Re(e){return(Math.random()-.5)*e}Ne.addEventListener("click",(function(){var e=Ie.children[0].toDataURL("image/png");(new Image).src=e;var t=new m({textureLoader2:We,scene:N,imageSrc:e,x:Re(4),y:0,z:Re(4),scale:.5,record:J,id:He.length});He.push(t)})),Te.addEventListener("click",(function(){var e=Ce.children[0].toDataURL("image/png");(new Image).src=e;var t=new b({textureLoader2:We,scene:N,imageSrc:e,x:Re(4),y:0,z:Re(4),scale:.5,record:J});Xe.push(t)}));var Ye=[];document.querySelectorAll(".buildingBox").forEach((function(e){e.addEventListener("click",(function(e){var t=new v({textureLoader2:We,scene:N,x:Re(4),y:0,z:Re(4),rotation:1,scale:.5,record:J,modelSrc:"./models/".concat(e.target.dataset.name,".glb")});Ye.push(t)}))})),p.addEventListener("mousemove",(function(e){(function(){if(Fe){X.setFromCamera(Ke,W);var e=X.intersectObjects(N.children);if(e.length){var t,n=K(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;"floor"===o.object.name&&(He.length>0||Ye.length>0||Xe.length>0)&&(Fe.position.x=o.point.x,Fe.position.y=.001,Fe.position.z=o.point.z,Ge.position.copy(Fe.position))}}catch(e){n.e(e)}finally{n.f()}}}})(),Ve(),Fe&&Qe();Ke.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1)})),p.addEventListener("mousedown",(function(e){Ke.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),X.setFromCamera(Ke,W),R.setFromCamera(Ke,y);var t=X.intersectObjects(N.children,!0),n=R.intersectObjects(h.children,!0);t.length&&t[0].object.isDraggable&&5!==Ze&&(1==J?"plane"==t[0].object.subject&&((Fe=t[0].object.parent).children[0].dragging=!0):(Fe=t[0].object.parent).children[0].dragging=!0);Fe&&(Ae.enabled=!1,Ve(),Qe());n.length&&"selectMap"==ke&&(n[0].object.id==_[0].id?(ke="intomap",De(0)):n[0].object.id==_[1].id?(ke="intomap",De(1)):n[0].object.id==_[2].id&&(ke="intomap",De(2)))})),p.addEventListener("mouseup",(function(e){Fe&&(J&&"plane"==Fe.children[0].subject&&(function(){var e=He[Fe.children[0].planeId].mesh.position;delete e._gsap;var t=U({},e);nt.positionData[Fe.children[0].planeId].phase[Ze].push(t),it(!0)}(),function(){var e,t=Fe.children[0].planeId,n=nt.positionData[t].phase[Ze][nt.positionData[t].phase[Ze].length-2],a=nt.positionData[t].phase[Ze][nt.positionData[t].phase[Ze].length-1],i=(new o.u9r).setFromPoints([new o.Pa4(n.x,n.y,n.z),new o.Pa4(a.x,a.y,a.z)]),r=new c.MeshLine;r.setGeometry(i),et=new c.MeshLineMaterial((Z(e={dashArray:.3,lineWidth:.12,transparent:!0},"dashArray",.07),Z(e,"dashOffset",0),Z(e,"dashRatio",.35),Z(e,"color","#73A651"),e)),0==t?et.color=new o.Ilk(203/255,253/255,171/255):1==t?et.color=new o.Ilk(163/255,236/255,207/255):2==t&&(et.color=new o.Ilk(166/255,235/255,243/255));tt.push(et);var s=new o.Kj0(r,et);N.add(s),ot.push(s)}()),Fe.children[0].dragging=!1,Ve(),function(){if("plane"==Fe.children[0].subject){var e=He.find((function(e){return e.mesh.id===Fe.id}));e.actions[1].stop(),e.actions[0].play()}else if("house"==Fe.children[0].subject){var t=Ye.find((function(e){return e.mesh.id===Fe.id}));t.actions[1].stop(),t.actions[0].play()}else if("object"==Fe.children[0].subject){Xe.find((function(e){return e.mesh.id===Fe.id})).mesh.position.y=.001}}(),Fe=void 0);Ae.enabled=!0}));var Ue,Ze=0,Je=new o.o8S(.4,.5,32),$e="#F4F4CC";Ue=new o.vBJ({color:$e});var Ge=new o.Kj0(Je,Ue);function Ve(){Fe?($e=Fe==He[0]?"#8ed158":"#F4F4CC",Ge.visible=!0):Ge.visible=!1}function Qe(){if("plane"==Fe.children[0].subject){var e=He.find((function(e){return e.mesh.id===Fe.id}));e.actions[0].stop(),e.actions[1].play()}else if("house"==Fe.children[0].subject){var t=Ye.find((function(e){return e.mesh.id===Fe.id}));t.actions[0].stop(),t.actions[1].play()}else if("object"==Fe.children[0].subject){Xe.find((function(e){return e.mesh.id===Fe.id})).mesh.position.y=1}}N.add(Ge),Ge.rotation.x=-Math.PI/2,Ge.position.y=.01,Ge.visible=!1;var et,tt=[],nt={thum:null,positionData:[],background:{houses:[],objects:[]}},ot=[],at=[];function it(e){for(var t=0;t<He.length;t++){var n=new o.fHI(.3,.3,.1,32),a=new o.YBo({color:"#558833"});0==t?a=new o.YBo({color:"#558833"}):1==t?a=new o.YBo({color:"#338866"}):2==t&&(a=new o.YBo({color:"#338088"}));var i=new o.Kj0(n,a);if(N.add(i),e){var r=nt.positionData[t].phase[Ze][nt.positionData[t].phase[Ze].length-1].x,s=nt.positionData[t].phase[Ze][nt.positionData[t].phase[Ze].length-1].y,c=nt.positionData[t].phase[Ze][nt.positionData[t].phase[Ze].length-1].z;i.position.set(r,s,c),at.push(i)}else if(!e){var l=nt.positionData[t].phase[Ze][0].x,d=nt.positionData[t].phase[Ze][0].y,u=nt.positionData[t].phase[Ze][0].z;i.position.set(l,d,u),at.push(i)}}}document.querySelector(".play").addEventListener("click",(function(){for(var e=[],t=function(t){var n;e.push(s.ZP.timeline());for(var o=0;o<nt.positionData[t].phase[Ze].length;o++)e[t].to(He[t].mesh.position,{duration:1,x:nt.positionData[t].phase[Ze][o].x,y:nt.positionData[t].phase[Ze][o].y,z:nt.positionData[t].phase[Ze][o].z});var a=He[t];a.actions[0].stop(),a.actions[3].play(),n=setInterval(st,100),e[t].play().then((function(){for(var e=0;e<nt.positionData[t].phase[Ze].length;e++)delete nt.positionData[t].phase[Ze][e]._gsap;a.actions[3].stop(),a.actions[0].play(),clearInterval(n)}))},n=0;n<He.length;n++)t(n)})),document.querySelector(".reuse").addEventListener("click",(function(){for(var e=[],t=0;t<He.length;t++)e.push(s.ZP.timeline()),e[t].to(He[t].mesh.position,{duration:.5,x:nt.positionData[t].phase[Ze][0].x,y:nt.positionData[t].phase[Ze][0].y,z:nt.positionData[t].phase[Ze][0].z});for(var n=0;n<at.length;n++){var o=at[n];N.remove(o)}for(var a=0;a<ot.length;a++){var i=ot[a];N.remove(i)}it(!1);for(var r=0;r<He.length;r++)nt.positionData[r].phase[Ze].splice(1)}));var rt=[];function st(){for(var e=0;e<He.length;e++){var t=new o.xo$(.1,18,18),n=new o.YBo({color:"#f4f5eb",opacity:.5,transparent:!0}),a=new o.Kj0(t,n),i=He[e].mesh.position,r=(U({},i),2*(Math.random()-.5)),s=2*(Math.random()-.5),c=2*(Math.random()-.5);a.position.x=i.x+r/12,a.position.y=i.y+s/12,a.position.z=i.z+c/12,N.add(a),rt.push(a)}}!function e(){u.render(N,W),He.length>0&&!J&&!Ee?$.classList.add("moveStart_move"):0==He.length&&$.classList.remove("moveStart_move");for(var t=Y.getDelta(),n=0;n<He.length;n++)He[n].mixer&&He[n].mixer.update(t);for(var o=0;o<Ye.length;o++)Ye[o].mixer&&Ye[o].mixer.update(t);for(var a=0;a<Xe.length;a++)Xe[a].mixer&&Xe[a].mixer.update(t);for(var i=0;i<rt.length;i++)rt[i]&&(rt[i].position.y+=.01,rt[i].scale.x-=.02,rt[i].scale.y-=.02,rt[i].scale.z-=.02,rt[i].scale.x<=0&&N.remove(rt[i]));fe.forEach((function(e){var t=He[e.id];if(t){var n=t.mesh.position,o=n.x,a=n.y,i=n.z;e.cImgLabel.position.set(o,a+1.8,i)}}));for(var r=0;r<tt.length;r++)tt[r]&&(tt[r].dashOffset-=.001);f.render(xe,Le),f.setAnimationLoop(e)}()}(),function(){document.querySelector(".drawHuman");var e=document.querySelector(".drawStuff"),t=document.querySelector(".drawHome"),n=(document.querySelector(".backButton"),document.querySelector(".drawing")),o=document.querySelector(".stuff"),a=document.querySelector(".building"),i=document.querySelectorAll(".draw"),r=document.querySelector(".moveStart"),s=document.querySelectorAll(".miniBack");r.addEventListener("click",(function(){!0&&(n.classList.add("leftMove"),e.classList.add("leftMove"),t.classList.add("leftMove"))})),i.forEach((function(e){e.addEventListener("click",(function(e){switch(e.target.dataset.name){case"draw":n.classList.remove("leftMove"),o.classList.add("leftMove"),a.classList.add("leftMove");break;case"stuff":n.classList.add("leftMove"),o.classList.remove("leftMove"),a.classList.add("leftMove");break;case"building":n.classList.add("leftMove"),o.classList.add("leftMove"),a.classList.remove("leftMove")}}))})),s.forEach((function(e){e.addEventListener("click",(function(){n.classList.add("leftMove"),o.classList.add("leftMove"),a.classList.add("leftMove"),!1,!1}))}))}()}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,a,i)=>{if(!n){var r=1/0;for(d=0;d<e.length;d++){for(var[n,a,i]=e[d],s=!0,c=0;c<n.length;c++)(!1&i||r>=i)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(s=!1,i<r&&(r=i));if(s){e.splice(d--,1);var l=a();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,a,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var a,i,[r,s,c]=n,l=0;if(r.some((t=>0!==e[t]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(c)var d=c(o)}for(t&&t(n);l<r.length;l++)i=r[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},n=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=o.O(void 0,[857],(()=>o(5781)));a=o.O(a)})();